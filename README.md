# ğŸ“° AI-Powered Multilingual Newsletter Bot

> Send one Slack message in **any language** â†’ get a professionally designed HTML newsletter in your Gmail inbox within seconds. Built with n8n, Google News RSS, Slack, and Gmail. **100% free to run.**

<div align="center">

![n8n](https://img.shields.io/badge/Built%20with-n8n-FF6D5A?style=for-the-badge&logo=n8n&logoColor=white)
![Slack](https://img.shields.io/badge/Triggered%20by-Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white)
![Gmail](https://img.shields.io/badge/Delivered%20via-Gmail-EA4335?style=for-the-badge&logo=gmail&logoColor=white)
![Free](https://img.shields.io/badge/Cost-100%25%20Free-brightgreen?style=for-the-badge)
![Languages](https://img.shields.io/badge/Languages-6+-blue?style=for-the-badge)

</div>

---

## ğŸ¯ What Is This?

A fully automated newsletter bot that monitors your Slack channel and generates beautiful HTML newsletters on demand.

**You type in Slack:**
```
generate newsletter for cricket
```
```
à®¤à®®à®¿à®´à¯à®¨à®¾à®Ÿà¯ à®…à®°à®šà®¿à®¯à®²à¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯
```
```
AI technology news
```

**Bot delivers:**
- âœ… Instant Slack confirmation â€” "â³ Generating..."
- ğŸ“§ Professional HTML newsletter to your Gmail
- ğŸ’¬ Slack reply with top 5 clickable headlines
- ğŸŒ Full UI in your language (Tamil/Hindi/Malayalam etc.)

---

## ğŸ–¼ï¸ Newsletter Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ GRADIENT TOP STRIPE â–ˆâ–ˆâ–ˆâ–ˆ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ğŸ”´  Logo Circle                            â”‚
â”‚         DAILY DIGEST Â· AI-POWERED                       â”‚
â”‚         Topic Name    Newsletter                        â”‚
â”‚         Sunday, 22 February 2026                        â”‚
â”‚         EDITION #444 Â· 10 STORIES                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”¹ Scrolling ticker with article headlines... ğŸ”¹       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HERO STORY                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  [Image]  Headline             â”‚  â”‚  LATEST NEWS     â”‚  â”‚
â”‚           Source | Date        â”‚  â”‚  1. Article...   â”‚  â”‚
â”‚           Description...       â”‚  â”‚  2. Article...   â”‚  â”‚
â”‚           [READ FULL STORY]    â”‚  â”‚  3. Article...   â”‚  â”‚
â”‚                                â”‚  â”‚  4. Article...   â”‚  â”‚
â”‚  MORE NEWS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  [Card 1]        [Card 2]      â”‚  â”‚  ğŸ· TRENDING     â”‚  â”‚
â”‚  Badge Headline  Badge Headlineâ”‚  â”‚  #Topic #News    â”‚  â”‚
â”‚  Source Â· Date   Source Â· Date â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Description     Description   â”‚                         â”‚
â”‚  Read More â†’     Read More â†’   â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MORE STORIES                                           â”‚
â”‚  [Card]    [Card]    [Card]    [Card]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Dark Footer Â· Links Â· Copyright               â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ GRADIENT BOTTOM STRIPE â–ˆâ–ˆâ–ˆâ–ˆ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Supported Languages

| Language | Type your query in... | Newsletter UI |
|---|---|---|
| ğŸ‡¬ğŸ‡§ English | `cricket news` | LATEST NEWS, Read More â†’ |
| ğŸ‡®ğŸ‡³ Tamil | `à®¤à®®à®¿à®´à¯à®¨à®¾à®Ÿà¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯` | à®šà®®à¯€à®ªà®¤à¯à®¤à®¿à®¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯, à®®à¯‡à®²à¯à®®à¯ à®ªà®Ÿà®¿à®•à¯à®• â†’ |
| ğŸ‡®ğŸ‡³ Hindi | `à¤•à¥à¤°à¤¿à¤•à¥‡à¤Ÿ à¤¸à¤®à¤¾à¤šà¤¾à¤°` | à¤¤à¤¾à¤œà¤¼à¤¾ à¤–à¤¬à¤°à¥‡à¤‚, à¤”à¤° à¤ªà¤¢à¤¼à¥‡à¤‚ â†’ |
| ğŸ‡®ğŸ‡³ Malayalam | `Kerala à´µà´¾àµ¼à´¤àµà´¤` | à´à´±àµà´±à´µàµà´‚ à´ªàµà´¤à´¿à´¯ à´µà´¾àµ¼à´¤àµà´¤à´•àµ¾ |
| ğŸ‡®ğŸ‡³ Telugu | `cricket à°µà°¾à°°à±à°¤à°²à±` | à°¤à°¾à°œà°¾ à°µà°¾à°°à±à°¤à°²à± |
| ğŸ‡®ğŸ‡³ Kannada | `à²•à³à²°à²¿à²•à³†à²Ÿà³ à²¸à³à²¦à³à²¦à²¿` | à²¤à²¾à²œà²¾ à²¸à³à²¦à³à²¦à²¿ |

Language is **automatically detected** using Unicode ranges â€” no AI API needed!

---

## ğŸ—ï¸ How It Works

```
Slack Message
      â”‚
      â–¼
Extract Topic & Language
(Unicode detection, keyword filter)
      â”‚
      â–¼
Is Valid Request?
(contains news / newsletter / à®šà¯†à®¯à¯à®¤à®¿ / à¤¸à¤®à¤¾à¤šà¤¾à¤° ?)
      â”‚ YES
      â–¼
Detect Language & Build Params
(translate topic â†’ English search query)
(build Google News RSS language params)
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                                     â–¼
Send Processing Message              Fetch Google News RSS
"â³ Generating..."                   (in user's language)
                                           â”‚
                                           â–¼
                                     Prepare Articles
                                     (clean, deduplicate,
                                      extract images)
                                           â”‚
                                           â–¼
                                     Build Newsletter HTML
                                     (professional template,
                                      unique image per article)
                                           â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â–¼                       â–¼
                         Send Gmail              Build Slack Message
                         Newsletter              (clickable headlines)
                                                       â”‚
                                                       â–¼
                                                Slack Done Reply âœ…
```

---

## ğŸ§© Nodes Explained

| # | Node | Purpose |
|---|---|---|
| 1 | **Slack Trigger** | Fires instantly when message sent in channel |
| 2 | **Extract Topic and Language** | Filters bots, detects language via Unicode |
| 3 | **Is Valid Request?** | Checks for news/newsletter keyword |
| 4 | **Detect Language and Build Params** | Translates topic, builds RSS params |
| 5 | **Send Processing Message** | Sends â³ status to Slack |
| 6 | **Fetch Google News RSS** | Gets news in user's language, no API key needed |
| 7 | **Prepare Articles** | Cleans titles, extracts images, deduplicates |
| 8 | **Build Newsletter HTML** | Generates full professional HTML email |
| 9 | **Send Newsletter Email** | Delivers via Gmail OAuth2 |
| 10 | **Build Slack Message** | Formats 5 clickable headline links |
| 11 | **Slack Done Reply** | Posts âœ… success message to channel |

---

## ğŸš€ Quick Start

### Requirements
- [n8n](https://n8n.io/) â€” self-hosted or cloud
- Slack workspace with admin access
- Gmail account
- Google News RSS â€” **no API key needed**

---

### Step 1 â€” Import Workflow

1. Download `Newsletter-UNIQUE-IMAGES-FINAL.json`
2. Open n8n â†’ **Workflows** â†’ **Import from file**
3. Select the downloaded JSON file

---

### Step 2 â€” Set Up Slack Credential

1. Go to [api.slack.com/apps](https://api.slack.com/apps) â†’ **Create New App**
2. Choose **From scratch** â†’ give it a name (e.g. `News_bot`)
3. Go to **OAuth & Permissions** â†’ add these Bot Token Scopes:
   - `channels:history`
   - `channels:read`
   - `chat:write`
4. Click **Install to Workspace** â†’ copy the **Bot User OAuth Token** (`xoxb-...`)
5. In n8n â†’ **Credentials** â†’ **New** â†’ search `Slack API` â†’ paste token
6. Enable **Event Subscriptions** in your Slack app:
   - Copy webhook URL from Slack Trigger node in n8n
   - Paste into Request URL â†’ wait for âœ… Verified
   - Add bot event: `message.channels`
   - Click **Save Changes** â†’ **Reinstall to Workspace**

---

### Step 3 â€” Set Up Gmail Credential

1. In n8n â†’ **Credentials** â†’ **New** â†’ search `Gmail OAuth2`
2. Follow the Google OAuth2 flow
3. Connect your Gmail account

---

### Step 4 â€” Configure the Workflow

**Update your channel:**
In **Slack Trigger** node â†’ **Channel to Watch** â†’ select your channel

**Update email recipient:**
In **Send Newsletter Email** node â†’ change `sendTo` to your email address

---

### Step 5 â€” Invite Bot to Channel

In your Slack channel, type:
```
/invite @News_bot
```

---

### Step 6 â€” Activate

Toggle the workflow **ON** (top right in n8n) âœ…

---

## ğŸ’¬ Usage Examples

### English
```
generate newsletter for cricket
AI technology news
latest news india
stock market news today
generate newsletter for IPL 2026
Elon Musk news
```

### Tamil à®¤à®®à®¿à®´à¯
```
à®¤à®®à®¿à®´à¯à®¨à®¾à®Ÿà¯ à®…à®°à®šà®¿à®¯à®²à¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯
à®šà®¿à®©à®¿à®®à®¾ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯
à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯à®Ÿà¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯
à®¤à®¿à®®à¯à®• à®…à®¤à®¿à®®à¯à®• à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯
```

### Hindi à¤¹à¤¿à¤¨à¥à¤¦à¥€
```
à¤•à¥à¤°à¤¿à¤•à¥‡à¤Ÿ à¤¸à¤®à¤¾à¤šà¤¾à¤°
à¤­à¤¾à¤°à¤¤ à¤•à¥€ à¤¤à¤¾à¤œà¤¼à¤¾ à¤–à¤¬à¤°à¥‡à¤‚
```

### Mixed
```
Kerala politics news
Chennai business news
Tamil Nadu sports à®šà¯†à®¯à¯à®¤à®¿
```

---

## ğŸ¨ Image Strategy

Each article in the newsletter gets a **unique image**:

```
Priority 1 â†’ Real image from RSS feed (if available)
Priority 2 â†’ Unique Picsum photo based on article title hash
             Different title = different seed = different image
             Always loads reliably in Gmail âœ…
```

```javascript
// Each article title generates a unique number â†’ unique image
const uniqueNum = title.split('')
  .reduce((acc, c) => acc + c.charCodeAt(0), slotIndex * 100);
const seed = uniqueNum % 1000;
// "DMK wins Tamil Nadu election" â†’ seed 472 â†’ unique photo
// "IPL 2026 Final Chennai"       â†’ seed 891 â†’ different photo
```

---

## ğŸ”§ Customization

### Add a new language

In **Detect Language and Build Params** node, add to `uiStrings`:

```javascript
bn: {
  latest_news: 'à¦¸à¦°à§à¦¬à¦¶à§‡à¦· à¦¸à¦‚à¦¬à¦¾à¦¦',
  more_news: 'à¦†à¦°à¦“ à¦¸à¦‚à¦¬à¦¾à¦¦',
  read_more: 'à¦†à¦°à¦“ à¦ªà¦¡à¦¼à§à¦¨',
  newsletter_word: 'à¦¨à¦¿à¦‰à¦œà¦²à§‡à¦Ÿà¦¾à¦°',
  edition: 'à¦¸à¦‚à¦¸à§à¦•à¦°à¦£',
  stories: 'à¦¸à¦‚à¦¬à¦¾à¦¦',
  trending: 'à¦Ÿà§à¦°à§‡à¦¨à§à¦¡à¦¿à¦‚',
  breaking: 'à¦¬à§à¦°à§‡à¦•à¦¿à¦‚',
  read_full_story: 'à¦ªà§à¦°à§‹ à¦—à¦²à§à¦ª à¦ªà¦¡à¦¼à§à¦¨',
  daily_digest: 'à¦¦à§ˆà¦¨à¦¿à¦• à¦¸à¦‚à¦¬à¦¾à¦¦ à¦¸à¦¾à¦°à¦¸à¦‚à¦•à§à¦·à§‡à¦ª',
  digest_tagline: 'à¦†à¦ªà¦¨à¦¾à¦° à¦¦à§ˆà¦¨à¦¿à¦• AI à¦¸à¦‚à¦¬à¦¾à¦¦ à¦¸à¦‚à¦•à¦²à¦¨',
  more_stories: 'à¦†à¦°à¦“ à¦—à¦²à§à¦ª'
}
```

And add to `langMap`:
```javascript
bn: { hl: 'bn', gl: 'IN', ceid: 'IN:bn' }
```

### Change newsletter accent color

In **Build Newsletter HTML** node, find and replace:
```javascript
'#e53935'   // red accent â†’ change to any hex color
```

### Change news freshness

In **Fetch Google News RSS** node URL, update:
```
when:1d  â†’ last 24 hours
when:2d  â†’ last 48 hours (current default)
when:7d  â†’ last week
```

---

## âš ï¸ Duplicate Prevention

The bot uses two layers of protection to avoid processing the same message twice:

**Layer 1 â€” Bot message filter:**
```javascript
const isBot = !!(($json.bot_id) || $json.subtype === 'bot_message');
// Bot replies are automatically ignored âœ…
```

**Layer 2 â€” Time filter (polling mode only):**

In **Read Slack Messages** node â†’ Filters â†’ Oldest field â†’ switch to Expression:
```
{{ Math.floor(Date.now()/1000) - 70 }}
```
Only messages from the last 70 seconds are processed â€” so each message runs exactly once.

---

## ğŸ“ Repository Structure

```
ğŸ“¦ slack-newsletter-bot/
 â”£ ğŸ“„ README.md
 â”£ ğŸ“„ Newsletter-UNIQUE-IMAGES-FINAL.json    â† Import this into n8n
 â”— ğŸ“ node-code/
    â”£ ğŸ“„ 01-extract-topic.js
    â”£ ğŸ“„ 02-detect-language.js
    â”£ ğŸ“„ 03-prepare-articles.js
    â”— ğŸ“„ 04-build-newsletter-html.js
```

---

## ğŸ› ï¸ Tech Stack

| Tool | Purpose | Cost |
|---|---|---|
| [n8n](https://n8n.io/) | Workflow automation | Free (self-hosted) |
| [Google News RSS](https://news.google.com/rss) | News feed | Free, no API key |
| [Slack API](https://api.slack.com/) | Trigger + reply | Free |
| [Gmail API](https://developers.google.com/gmail) | Email delivery | Free |
| [Picsum Photos](https://picsum.photos/) | Fallback images | Free |

**Total running cost: $0** âœ…

---

## ğŸ§ª Testing Checklist

After setup, verify each feature works:

- [ ] Send `generate newsletter for cricket` â†’ newsletter arrives in Gmail
- [ ] Send `à®¤à®®à®¿à®´à¯à®¨à®¾à®Ÿà¯ à®šà¯†à®¯à¯à®¤à®¿à®•à®³à¯` â†’ Tamil UI labels appear in newsletter
- [ ] Send `hello` â†’ **no response** (keyword filter working âœ…)
- [ ] Send same message twice â†’ **one newsletter only** (duplicate prevention âœ…)
- [ ] Open newsletter â†’ all 10 images are **different** from each other âœ…
- [ ] Click headline in Slack reply â†’ opens correct article URL âœ…
- [ ] Check ticker â†’ scrolls with all article headlines âœ…

---

## ğŸ¤ Contributing

Pull requests welcome! Ideas for improvement:

- Add more Indian languages (Bengali, Gujarati, Punjabi, Odia)
- Add daily scheduled digest at a fixed time
- Fetch real article OG images via HTTP Request node
- Add WhatsApp trigger support
- Add topic category tabs (Sports / Politics / Business)

---

## ğŸ“„ License

MIT License â€” free to use, modify, and distribute.

---

## â­ Support

If this project helped you, please give it a **star** â­

Built with â¤ï¸ using n8n + Google News RSS
